<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.8.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="alternate" href="/atom.xml" title="Deepspace" type="application/atom+xml"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"7.5.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"复制",copy_success:"复制成功",copy_failure:"复制失败"},sidebarPadding:40}</script><meta name="description" content="一、介绍 Flutter 是由 Google 的工程师团队打造的，用于创建高性能、跨平台的移动应用的框架  Flutter 针对当下以及未来的移动设备进行优化，专注于 Android and iOS 低延迟的输入和高帧率  Flutter 的设计跟 react-native 很像，但是比 RN 进了一步  Flutter 的开发语言是 Dart  Flutter 的热重载（hot-reload）特"><meta name="keywords" content="Flutter"><meta property="og:type" content="article"><meta property="og:title" content="Flutter — 零、设置开发环境"><meta property="og:url" content="https://togoblog.cn/flutter-development-environment-configuration/index.html"><meta property="og:site_name" content="Deepspace"><meta property="og:description" content="一、介绍 Flutter 是由 Google 的工程师团队打造的，用于创建高性能、跨平台的移动应用的框架  Flutter 针对当下以及未来的移动设备进行优化，专注于 Android and iOS 低延迟的输入和高帧率  Flutter 的设计跟 react-native 很像，但是比 RN 进了一步  Flutter 的开发语言是 Dart  Flutter 的热重载（hot-reload）特"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://github.com/IDeepspace/ImageHosting/raw/master/Flutter/flutter-start-demo.gif"><meta property="og:updated_time" content="2019-11-07T09:31:58.254Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Flutter — 零、设置开发环境"><meta name="twitter:description" content="一、介绍 Flutter 是由 Google 的工程师团队打造的，用于创建高性能、跨平台的移动应用的框架  Flutter 针对当下以及未来的移动设备进行优化，专注于 Android and iOS 低延迟的输入和高帧率  Flutter 的设计跟 react-native 很像，但是比 RN 进了一步  Flutter 的开发语言是 Dart  Flutter 的热重载（hot-reload）特"><meta name="twitter:image" content="https://github.com/IDeepspace/ImageHosting/raw/master/Flutter/flutter-start-demo.gif"><link rel="canonical" href="https://togoblog.cn/flutter-development-environment-configuration/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>Flutter — 零、设置开发环境 | Deepspace</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Deepspace</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">我叫陈星星</p></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li></ul></nav></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://togoblog.cn/flutter-development-environment-configuration/"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Deepspace"><meta itemprop="description" content="凡事预 ？立 ：废"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Deepspace"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Flutter — 零、设置开发环境</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-05-09 00:00:00" itemprop="dateCreated datePublished" datetime="2019-05-09T00:00:00+08:00">2019-05-09</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-11-07 17:31:58" itemprop="dateModified" datetime="2019-11-07T17:31:58+08:00">2019-11-07</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h3><ul><li><p><code>Flutter</code> 是由 <code>Google</code> 的工程师团队打造的，用于创建高性能、跨平台的移动应用的框架</p></li><li><p><code>Flutter</code> 针对当下以及未来的移动设备进行优化，专注于 <code>Android and iOS</code> 低延迟的输入和高帧率</p></li><li><p><code>Flutter</code> 的设计跟 <code>react-native</code> 很像，但是比 <code>RN</code> 进了一步</p></li><li><p><code>Flutter</code> 的开发语言是 <code>Dart</code></p></li><li><p><code>Flutter</code> 的热重载（<code>hot-reload</code>）特性让人惊叹，它能在编 码时为你提供超快的视觉反馈</p></li></ul><h3 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a>二、安装</h3><h4 id="1、获取-Flutter-SDK"><a href="#1、获取-Flutter-SDK" class="headerlink" title="1、获取 Flutter SDK"></a>1、获取 Flutter SDK</h4><ul><li>将 <code>Flutter</code> 项目克隆到本地：<a id="more"></a></li></ul><blockquote><p> 在电脑上存放文件的时候，我有严重的”洁癖”。之前在用 <code>Windows</code> 的时候，有时候因为不小心把软件安装错盘符，卸载也有残余，我甚至会去重装系统，然后再花上整夜的时间设置各项环境和安装软件。</p><p>所以，这里我单独在根目录创建一个 <code>Development</code> 文件夹来存放克隆下来的 <code>flutter</code> 库，因为之后会用把这个库导入到环境变量里面，避免存放在其他位置造成误操作，也不利于后面的版本升级。</p></blockquote><pre class="language-bash"><code class="language-bash">$ <span class="token function">cd</span> ~
$ <span class="token function">mkdir</span> Development
$ <span class="token function">cd</span> Development/ 
$ <span class="token function">git</span> clone -b beta https://github.com/flutter/flutter.git
</code></pre><ul><li>将 <code>Flutter</code> 添加到本地环境变量：</li></ul><pre class="language-bash"><code class="language-bash">$ vim ~/.bash_profile
</code></pre><p>在国内由于一些原因，还需要设置一下 <code>pub</code> 源，用以下载相关的依赖文件。其中 <code>PUB_HOSTED_URL</code> 和 <code>FLUTTER_STORAGE_BASE_URL</code> 是 <code>google</code> 为国内开发者搭建的临时镜像。</p><p>所以需要在环境变量中添加三个变量：</p><pre class="language-bash"><code class="language-bash"><span class="token function">export</span> PUB_HOSTED_URL<span class="token operator">=</span>https://pub.flutter-io.cn
<span class="token function">export</span> FLUTTER_STORAGE_BASE_URL<span class="token operator">=</span>https://storage.flutter-io.cn
<span class="token function">export</span> PATH<span class="token operator">=</span><span class="token string">"PATH_TO_FLUTTER_GIT_DIRECTORY/flutter/bin:<span class="token variable">$PATH</span>"</span>
</code></pre><p>其中 <code>PATH_TO_FLUTTER_GIT_DIRECTORY</code> 为你的 <code>flutter sdk</code> 的路径（也就是前面 <code>clone</code> 的 <code>repo</code> 地址）。如我这里就是改成：</p><pre class="language-bash"><code class="language-bash"><span class="token function">export</span> PATH<span class="token operator">=</span><span class="token string">"/Users/cxin/Development/flutter/bin:<span class="token variable">$PATH</span>"</span>
</code></pre><ul><li>刷新 <code>bash</code> ，需要 <code>source</code> 一下：</li></ul><pre class="language-bash"><code class="language-bash">$ <span class="token function">source</span> ~/.bash_profile
</code></pre><ul><li>查看 <code>PATH</code> :</li></ul><pre class="language-bash"><code class="language-bash">$ <span class="token keyword">echo</span> <span class="token variable">$PATH</span>
</code></pre><p>可以看到 <code>flutter</code> 已经被写入了。</p><ul><li>验证是否配置成功：</li></ul><pre class="language-bash"><code class="language-bash">$ flutter -h
</code></pre><p>配置成功的话，会展示 <code>flutter</code> 的命令帮助。</p><h4 id="2、运行-flutter-doctor"><a href="#2、运行-flutter-doctor" class="headerlink" title="2、运行 flutter doctor"></a>2、运行 flutter doctor</h4><p>运行以下命令查看是否需要安装一些依赖项以完成安装：</p><pre class="language-bash"><code class="language-bash">$ flutter doctor
</code></pre><blockquote><p>第一次运行 <code>flutter</code> 命令（如<code>flutter doctor</code>）时，它会下载自己的依赖关系并自行编译，所以速度会比较慢，后续的运行应该将会快得多。</p></blockquote><p>该命令将检查你的环境并在终端窗口中显示报告。<code>Dart SDK</code> 是与 <code>Flutter</code> 捆绑在一起的，所以不用再单独安装<code>Dart</code>。</p><p>这里我们需要仔细检查显示出来的报告中是否提示需要安装其他软件或执行其他任务，下面是我的机器的检查报告：</p><pre class="language-bas"><code class="language-bas">Doctor summary (to see all details, run flutter doctor -v):
[✓] Flutter (Channel beta, v1.5.4-hotfix.2, on Mac OS X 10.14.4 18E226, locale en-CN)
[✗] Android toolchain - develop for Android devices
    ✗ Unable to locate Android SDK.
      Install Android Studio from: https://developer.android.com/studio/index.html
      On first launch it will assist you in installing the Android SDK components.
      (or visit https://flutter.dev/setup/#android-setup for detailed instructions).
      If the Android SDK has been installed to a custom location, set ANDROID_HOME to that location.
      You may also want to add it to your PATH environment variable.

[!] iOS toolchain - develop for iOS devices (Xcode 10.2.1)
    ✗ libimobiledevice and ideviceinstaller are not installed. To install with Brew, run:
        brew update
        brew install --HEAD usbmuxd
        brew link usbmuxd
        brew install --HEAD libimobiledevice
        brew install ideviceinstaller
    ✗ ios-deploy not installed. To install:
        brew install ios-deploy
    ✗ CocoaPods not installed.
        CocoaPods is used to retrieve the iOS platform side's plugin code that responds to your plugin usage on the Dart side.
        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.
        For more info, see https://flutter.dev/platform-plugins
      To install:
        brew install cocoapods
        pod setup
[!] Android Studio (not installed)
[!] IntelliJ IDEA Ultimate Edition (version 2019.1.1)
    ✗ Flutter plugin not installed; this adds Flutter specific functionality.
    ✗ Dart plugin not installed; this adds Dart specific functionality.
[✓] VS Code (version 1.33.1)
[!] Connected device
    ! No devices available

! Doctor found issues in 5 categories.
</code></pre><p>可以看到，对于每一项需要执行的任务，报告中都给出了相应的解决办法。按照提示执行就好了：</p><pre class="language-bash"><code class="language-bash">Doctor summary <span class="token punctuation">(</span>to see all details, run flutter doctor -v<span class="token punctuation">)</span>:
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> Flutter <span class="token punctuation">(</span>Channel beta, v1.5.4-hotfix.2, on Mac OS X 10.14.4 18E226, locale en-CN<span class="token punctuation">)</span>

<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> Android toolchain - develop <span class="token keyword">for</span> Android devices <span class="token punctuation">(</span>Android SDK version 28.0.3<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> iOS toolchain - develop <span class="token keyword">for</span> iOS devices <span class="token punctuation">(</span>Xcode 10.2.1<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> Android Studio <span class="token punctuation">(</span>version 3.4<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> IntelliJ IDEA Ultimate Edition <span class="token punctuation">(</span>version 2019.1.1<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> VS Code <span class="token punctuation">(</span>version 1.33.1<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> Connected device <span class="token punctuation">(</span>1 available<span class="token punctuation">)</span>

• No issues found<span class="token operator">!</span>
</code></pre><p>这中间有些是 <code>IDE</code> 的配置，在对应的 <code>IDE</code> 中安装 <code>Dart</code> 和 <code>Flutter</code> 即可。</p><blockquote><p>因为我使用的是 <code>Mac</code>，所以这里只介绍了 <code>macOS</code> 上的配置方法，关于其他系统的配置可以参考官网：<a href="https://flutter.dev/docs/get-started/install" target="_blank" rel="noopener">https://flutter.dev/docs/get-started/install</a></p></blockquote><h3 id="三、创建项目"><a href="#三、创建项目" class="headerlink" title="三、创建项目"></a>三、创建项目</h3><p>我们使用 <code>VSCode</code> 来开发。需要在 <code>VSCode</code> 中安装 <code>Dart</code> 和 <code>Flutter</code> 两个 <code>Extensions</code> 。</p><p>打开 <code>VSCode</code> ，选择 <code>View</code> &gt; <code>Command Palette</code> &gt; <code>Flutter: New Project</code> &gt; <code>Enter Project Name</code> ，<code>VSCode</code> 会自动帮我们创建一个 <code>Flutter</code> 项目。这里我创建的项目名称为 <code>demo</code> 。</p><p>运行 <code>demo</code> :</p><pre class="language-bash"><code class="language-bash">$ flutter run
</code></pre><p>执行报出如下错误：</p><pre class="language-bash"><code class="language-bash">It appears that your application still contains the default signing identifier.
Try replacing <span class="token string">'com.example'</span> with your signing <span class="token function">id</span> <span class="token keyword">in</span> Xcode:
  <span class="token function">open</span> ios/Runner.xcworkspace
</code></pre><p>按照上面的提示，用 <code>Xcode</code> 打开示例项目中的 <code>ios/Runner.xcworkspace</code> 这个文件。</p><p>选择项目菜单 <code>Runner</code> – <code>General</code> 选项 ，可以看到 <code>Signing</code> 中的 <code>Status</code> 提示错误信息：</p><pre class="language-bash"><code class="language-bash">Signing <span class="token keyword">for</span> <span class="token string">"Runner"</span> requires a development team.
Select a development team <span class="token keyword">in</span> the projct editor.
</code></pre><p>点击 <code>Team</code> 选项的 <code>Add Account...</code> 按钮，登录 <code>Apple ID</code> ，没有则需要创建一个。回到 <code>General</code> 界面，选择 <code>Team</code> 名称，等待验证。</p><p>这里我又遇到另外的问题：</p><pre class="language-bash"><code class="language-bash">ailed to create provisioning profile.
The app ID <span class="token string">"com.example.demo"</span> cannot be registered to your development team. Change your bundle identifier to a unique string to try again.

No profiles <span class="token keyword">for</span> <span class="token string">'com.example.demo'</span> were found
Xcode couldn<span class="token string">'t find any iOS App Development provisioning profiles matching '</span>com.example.demo'.
</code></pre><p>找了好久，有人给出一个解决办法：</p><p><strong>将 <code>Bundle Identifier</code> 的值改变一下，比如在结尾随机加上几个数字。</strong></p><p>然后点击 <code>try again</code> ，成功 <code>sign</code> 。</p><p>接下来我们重新执行 <code>flutter run</code> 运行，中间会要求输入密码，能够正常运行了，也支持热加载调试。</p><p><img src="https://github.com/IDeepspace/ImageHosting/raw/master/Flutter/flutter-start-demo.gif" alt="Flutter Demo"></p><h3 id="四、Flutter版本更新"><a href="#四、Flutter版本更新" class="headerlink" title="四、Flutter版本更新"></a>四、Flutter版本更新</h3><p>执行 <code>flutter doctor</code> ，如果有新版本更新，会提醒升级，按照提示，执行 <code>flutter upgrade</code> 进行升级即可。</p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/Flutter/" rel="tag"># Flutter</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/react-hook/" rel="next" title="React v16.8 Hook 功能"><i class="fa fa-chevron-left"></i> React v16.8 Hook 功能</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/python-basic/" rel="prev" title="Python 基础语法">Python 基础语法<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#一、介绍"><span class="nav-number">1.</span> <span class="nav-text">一、介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二、安装"><span class="nav-number">2.</span> <span class="nav-text">二、安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1、获取-Flutter-SDK"><span class="nav-number">2.1.</span> <span class="nav-text">1、获取 Flutter SDK</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2、运行-flutter-doctor"><span class="nav-number">2.2.</span> <span class="nav-text">2、运行 flutter doctor</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三、创建项目"><span class="nav-number">3.</span> <span class="nav-text">三、创建项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#四、Flutter版本更新"><span class="nav-number">4.</span> <span class="nav-text">四、Flutter版本更新</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Deepspace" src="/images/avatar.gif"><p class="site-author-name" itemprop="name">Deepspace</p><div class="site-description" itemprop="description">凡事预 ？立 ：废</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">45</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">12</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">36</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2019</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">Deepspace</span></div><div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div> <span class="post-meta-divider">|</span><div class="theme-info">主题 – <a href="https://pisces.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.5.0</div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script></body></html>